<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>JavaScript</title>
	<meta name="description" content="Documentation for JavaScript">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">JavaScript</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>JavaScript</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#insense-e-commerce-clickstream-analytics" id="insense-e-commerce-clickstream-analytics" style="color: inherit; text-decoration: none;">
					<h1>Insense E-Commerce Clickstream Analytics</h1>
				</a>
				<a href="#introduction" id="introduction" style="color: inherit; text-decoration: none;">
					<h2>Introduction</h2>
				</a>
				<p>Welcome to Insense Clickstream Analysis JavaScript SDK. </p>
				<p>Clickstream data allows you to see what actions customers are taking on your website.
					Given how commerce is shifting more and more online, this data is becoming essential for your business to
				stay competitive.</p>
				<a href="#why-this-sdk-" id="why-this-sdk-" style="color: inherit; text-decoration: none;">
					<h2>Why this SDK ?</h2>
				</a>
				<p>This JavaScript SDK makes it easy for you to track the key events of importance to your business.
				The collected clickstream data is submitted to your Insense portal for analysis and machine learning.</p>
				<a href="#why-should-i-track-" id="why-should-i-track-" style="color: inherit; text-decoration: none;">
					<h2>Why Should I Track ?</h2>
				</a>
				<p>The data collected by tracking is rich in insights that can turn your business around. If using the Insense Tracking SDKs, the data is submitted to the data lake tied to your account details on Insense. </p>
				<p>At Insense, we call this &quot;Clickstream data&quot;. Clickstream data allows you to see what actions customers are taking on your website. Given how commerce is shifting more and more online, this data is becoming essential for your business to stay competitive.</p>
				<p>Insense uses the clickstram data to show the following insights:</p>
				<ul>
					<li>Traffic Analysis: <ul>
							<li>get to know where traffic is coming from, </li>
							<li>popular key words, </li>
							<li>conversion rates from different sites, </li>
							<li>cohort analysis, </li>
							<li>marketing campaigns performance</li>
						</ul>
					</li>
					<li>Sales Funnel analysis: <ul>
							<li>understand drop off percentage or conversion at every stage, </li>
							<li>identify general health and which stages contribute to drop offs, </li>
							<li>identify reasons for drop offs</li>
						</ul>
					</li>
					<li>Cart abandonment and recovery: <ul>
							<li>understand cart abandonment metrics and possible reasons/causes</li>
						</ul>
					</li>
					<li>Personalization: <ul>
							<li>personalize products shown to the user based on their viewing, search and ordering history. </li>
							<li>Great for recommendations. </li>
						</ul>
					</li>
					<li>Tracking Experiments (A/B Testing): <ul>
							<li>Test every modification to a page with a segment of users to understand if it provides an improvement or not before rolling out the update to all users</li>
						</ul>
					</li>
					<li>Identity Stitching: <ul>
							<li>Be able to identify all users whether logged in or not. </li>
						</ul>
					</li>
				</ul>
				<a href="#what-events-should-i-track-" id="what-events-should-i-track-" style="color: inherit; text-decoration: none;">
					<h2>What Events Should I Track ?</h2>
				</a>
				<p>The best approach towards specifying out analytics is to identify what exactly you want to learn (or conversely, what you donâ€™t know) about your business or product. Asking these questions encourages a more targeted and structured approach to determining which events to include.</p>
				<p>A common starting place is to look at your funnel. What are the key steps? These key steps are the discrete steps a user takes towards conversion. It might vary from business to business but generally, in an e-commerce platform, it will revolve around the following:</p>
				<ul>
					<li>When a user views a product</li>
					<li>When a user adds the product to their shopping cart</li>
					<li>When a user initiates the checkout process</li>
					<li>When the user completes and submits the order</li>
				</ul>
				<p>Of course, every business is different! Figure out which events are critical pieces of your funnel and start there.</p>
				<a href="#code-examples" id="code-examples" style="color: inherit; text-decoration: none;">
					<h2>Code Examples</h2>
				</a>
				<a href="#include-the-files" id="include-the-files" style="color: inherit; text-decoration: none;">
					<h3>Include the files</h3>
				</a>
				<p>You first need to include the scripts in order.
				The library only depends on axios. No jquery or any other library is needed.</p>
				<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/path/to/axios.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/path/to/insense/analytics.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
				<a href="#initialize-the-analytics-library" id="initialize-the-analytics-library" style="color: inherit; text-decoration: none;">
					<h3>Initialize the analytics library</h3>
				</a>
				<pre><code class="language-javascript"><span class="hljs-keyword">let</span> user_id = someFunctionToGetLoggedInUser(); <span class="hljs-comment">// get id of a logged in user, should be empty string if no user is logged in</span>

<span class="hljs-keyword">let</span> access_key = <span class="hljs-string">"ABCDEFGHYUIP"</span>; <span class="hljs-comment">// access key (from your Insense portal) </span>

idt_analytics = <span class="hljs-keyword">new</span> IDTEcommerceAnalytics(access_key, user_id);</code></pre>
				<p>If it doesn&#39;t work, confirm that you have whitelisted your domain in the portal. By defauly,. all domains are blacklisted</p>
				<a href="#sample-code-to-track-a-user" id="sample-code-to-track-a-user" style="color: inherit; text-decoration: none;">
					<h3>Sample code to track a user</h3>
				</a>
				<pre><code class="language-javascript">
<span class="hljs-comment">//1.  page load event</span>
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"load"</span>, () =&gt; {
    <span class="hljs-keyword">let</span> page = <span class="hljs-built_in">document</span>.body.getAttribute(<span class="hljs-string">"data-idt-page"</span>);
    idt_analytics.onPageLoad(page);
});

<span class="hljs-comment">//2. product list viewed in home page</span>
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"scroll"</span>, (event) =&gt; {

    <span class="hljs-keyword">let</span> element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"home_page_products"</span>);

    <span class="hljs-keyword">if</span> (idt_analytics.isInViewPoint(element)) {
        <span class="hljs-keyword">let</span> category = <span class="hljs-string">"home_page_products"</span>;
        <span class="hljs-keyword">let</span> products = [];<span class="hljs-comment">// set this array wit list of products in view</span>
        idt_analytics.onProductListViewed(category, products)
    }
});

<span class="hljs-comment">// 3. Promotion clicked</span>
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"top_banner"</span>).addEventListener(<span class="hljs-string">"click"</span>, (event) =&gt; {
    <span class="hljs-keyword">let</span> promotion_id = <span class="hljs-string">""</span>; <span class="hljs-comment">// set the promotion id</span>
    <span class="hljs-keyword">let</span> promotion_name = <span class="hljs-string">""</span>; <span class="hljs-comment">// set the promotion name</span>
    <span class="hljs-keyword">let</span> creative = <span class="hljs-string">""</span>; <span class="hljs-comment">// set the creative</span>
    <span class="hljs-keyword">let</span> position = <span class="hljs-string">""</span>; <span class="hljs-comment">// set the position</span>
    idt_analytics.onPromotionClicked(promotion_id, promotion_name, creative, position)
});</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/campaign.html" class="tsd-kind-icon">Campaign</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/idtecommerceanalytics.html" class="tsd-kind-icon">IDTECommerce<wbr>Analytics</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/meta.html" class="tsd-kind-icon">Meta</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/requests.html" class="tsd-kind-icon">Requests</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/cart.html" class="tsd-kind-icon">Cart</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/cartproductid.html" class="tsd-kind-icon">Cart<wbr>Product<wbr>Id</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/cartshared.html" class="tsd-kind-icon">Cart<wbr>Shared</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/checkoutstarted.html" class="tsd-kind-icon">Checkout<wbr>Started</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/checkoutstepcompleted.html" class="tsd-kind-icon">Checkout<wbr>Step<wbr>Completed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/checkoutstepviewed.html" class="tsd-kind-icon">Checkout<wbr>Step<wbr>Viewed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/couponapplied.html" class="tsd-kind-icon">Coupon<wbr>Applied</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/coupondenied.html" class="tsd-kind-icon">Coupon<wbr>Denied</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/couponentered.html" class="tsd-kind-icon">Coupon<wbr>Entered</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/couponremoved.html" class="tsd-kind-icon">Coupon<wbr>Removed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/eventerror.html" class="tsd-kind-icon">Event<wbr>Error</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/filter.html" class="tsd-kind-icon">Filter</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ordercancelled.html" class="tsd-kind-icon">Order<wbr>Cancelled</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ordercompleted.html" class="tsd-kind-icon">Order<wbr>Completed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/orderrefunded.html" class="tsd-kind-icon">Order<wbr>Refunded</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ordersupdated.html" class="tsd-kind-icon">Orders<wbr>Updated</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/paymentinfoentered.html" class="tsd-kind-icon">Payment<wbr>Info<wbr>Entered</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/product.html" class="tsd-kind-icon">Product</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productadded.html" class="tsd-kind-icon">Product<wbr>Added</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productlistfiltered.html" class="tsd-kind-icon">Product<wbr>List<wbr>Filtered</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productlistviewed.html" class="tsd-kind-icon">Product<wbr>List<wbr>Viewed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productremoved.html" class="tsd-kind-icon">Product<wbr>Removed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productreviewed.html" class="tsd-kind-icon">Product<wbr>Reviewed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productshared.html" class="tsd-kind-icon">Product<wbr>Shared</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productwishlist.html" class="tsd-kind-icon">Product<wbr>Wishlist</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productwishlisttocart.html" class="tsd-kind-icon">Product<wbr>Wishlist<wbr>ToCart</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/productssearched.html" class="tsd-kind-icon">Products<wbr>Searched</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/promotionclicked.html" class="tsd-kind-icon">Promotion<wbr>Clicked</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/promotionviewed.html" class="tsd-kind-icon">Promotion<wbr>Viewed</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/sort.html" class="tsd-kind-icon">Sort</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/user.html" class="tsd-kind-icon">User</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#axios" class="tsd-kind-icon">axios</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#cart_shared" class="tsd-kind-icon">cart_<wbr>shared</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#cart_viewed" class="tsd-kind-icon">cart_<wbr>viewed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#checkout_started" class="tsd-kind-icon">checkout_<wbr>started</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#checkout_step_completed" class="tsd-kind-icon">checkout_<wbr>step_<wbr>completed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#checkout_step_viewed" class="tsd-kind-icon">checkout_<wbr>step_<wbr>viewed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#coupon_applied" class="tsd-kind-icon">coupon_<wbr>applied</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#coupon_denied" class="tsd-kind-icon">coupon_<wbr>denied</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#coupon_entered" class="tsd-kind-icon">coupon_<wbr>entered</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#coupon_removed" class="tsd-kind-icon">coupon_<wbr>removed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#error" class="tsd-kind-icon">error</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#logged_in" class="tsd-kind-icon">logged_<wbr>in</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#logged_out" class="tsd-kind-icon">logged_<wbr>out</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#order_cancelled" class="tsd-kind-icon">order_<wbr>cancelled</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#order_completed" class="tsd-kind-icon">order_<wbr>completed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#order_refunded" class="tsd-kind-icon">order_<wbr>refunded</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#order_updated" class="tsd-kind-icon">order_<wbr>updated</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#page_load" class="tsd-kind-icon">page_<wbr>load</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#payment_info_entered" class="tsd-kind-icon">payment_<wbr>info_<wbr>entered</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_added" class="tsd-kind-icon">product_<wbr>added</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_added_to_wish_list" class="tsd-kind-icon">product_<wbr>added_<wbr>to_<wbr>wish_<wbr>list</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_clicked" class="tsd-kind-icon">product_<wbr>clicked</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_list_filtered" class="tsd-kind-icon">product_<wbr>list_<wbr>filtered</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_list_viewed" class="tsd-kind-icon">product_<wbr>list_<wbr>viewed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_removed" class="tsd-kind-icon">product_<wbr>removed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_removed_from_wish_list" class="tsd-kind-icon">product_<wbr>removed_<wbr>from_<wbr>wish_<wbr>list</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_reviewed" class="tsd-kind-icon">product_<wbr>reviewed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_searched" class="tsd-kind-icon">product_<wbr>searched</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_shared" class="tsd-kind-icon">product_<wbr>shared</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#product_viewed" class="tsd-kind-icon">product_<wbr>viewed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#promotion_clicked" class="tsd-kind-icon">promotion_<wbr>clicked</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#promotion_viewed" class="tsd-kind-icon">promotion_<wbr>viewed</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#signed_up" class="tsd-kind-icon">signed_<wbr>up</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#wish_list_product_added_to_cart" class="tsd-kind-icon">wish_<wbr>list_<wbr>product_<wbr>added_<wbr>to_<wbr>cart</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>